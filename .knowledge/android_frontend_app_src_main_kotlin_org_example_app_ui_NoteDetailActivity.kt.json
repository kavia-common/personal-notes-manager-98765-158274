{"is_source_file": true, "format": "Kotlin", "description": "This file defines an Android activity, NoteDetailActivity, responsible for displaying and editing the details of a note within the app. It manages UI components, handles user interactions for saving or deleting notes, and interacts with a NoteRepository for data operations.", "external_files": ["R (resources)", "org.example.app.data.NoteRepository", "R.layout.activity_note_detail", "R.menu.menu_note_detail", "R.id.topAppBar", "R.id.inputTitle", "R.id.inputContent", "R.id.inputTags", "R.string.title_notes", "R.string.action_save", "R.id.action_save", "R.id.action_delete"], "external_methods": ["NoteRepository.getInstance(context: Context)", "NoteRepository.getNote(id: Long)", "NoteRepository.createNote(title: String, content: String, tags: List<String>)", "NoteRepository.updateNote(id: Long, title: String, content: String, tags: List<String>)", "NoteRepository.deleteNote(id: Long)"], "published": ["NoteDetailActivity.EXTRA_NOTE_ID"], "classes": [{"name": "NoteDetailActivity", "description": "An activity class managing the display and editing of note details, including loading existing note data, handling menu actions (save, delete), and managing the note data through a repository."}], "methods": [{"name": "onCreate", "description": "Initializes the activity, sets up views, retrieves note info if available, and configures UI accordingly."}, {"name": "onCreateOptionsMenu", "description": "Inflates the options menu with save and delete actions."}, {"name": "onOptionsItemSelected", "description": "Handles menu item actions such as save, delete, and navigating back."}, {"name": "saveNote", "description": "Gathers input data from UI, creates or updates the note via repository, and finishes the activity."}], "calls": ["setContentView(R.layout.activity_note_detail)", "findViewById(R.id.topAppBar)", "setSupportActionBar(toolbar)", "supportActionBar?.setDisplayHomeAsUpEnabled(true)", "findViewById(R.id.inputTitle)", "findViewById(R.id.inputContent)", "findViewById(R.id.inputTags)", "intent.getLongExtra(EXTRA_NOTE_ID, -1L)", "NoteRepository.getInstance(this).getNote(id)", "note.title", "note.content", "note.tags", "supportActionBar?.title", "menuInflater.inflate(R.menu.menu_note_detail, menu)", "finish()", "NoteRepository.getInstance(this).deleteNote(it)", "NoteRepository.getInstance(this).createNote(title, content, tags)", "NoteRepository.getInstance(this).updateNote(id, title, content, tags)"], "search-terms": ["NoteDetailActivity", "note editing", "note saving", "Android activity", "Kotlin repository interaction", "UI input fields"], "state": 2, "file_id": 24, "knowledge_revision": 74, "git_revision": "", "revision_history": [{"49": ""}, {"74": ""}], "hash": "32f29fde399bb5a8dbcb6f4d57f8859c", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/ui/NoteDetailActivity.kt"}